{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\admin\\\\Desktop\\\\\\u0110ATN1\\\\Code\\\\Front-End\\\\src\\\\Login\\\\login.js\";\nimport React, { Component } from 'react';\nimport Axios from 'axios';\n\nclass login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.CheckLogin = async e => {\n      let results = await Axios.post('http://localhost:4000/api/account/login', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n        body: {\n          username: this.username,\n          password: this.password\n        }\n      });\n\n      if (results.status !== 200) {\n        this.setState({\n          'error': 1\n        });\n        return;\n      } else {\n        if (results.data.news.length > 0) {\n          localStorage.setItem(\"isLogin\", 'true');\n          var hi = results.data.news;\n          var data;\n          var dataUser = [];\n          hi.forEach(e => {\n            data = {\n              id: e.id_account,\n              name: e.name,\n              username: e.username,\n              role: e.id_role,\n              shift: e.id_shift\n            };\n            dataUser.push(data);\n          });\n          localStorage.setItem('userInfo', JSON.stringify(dataUser));\n          console.log(dataUser);\n\n          if (dataUser[0].role == 1) {\n            window.location.href = '/bend';\n          } else if (dataUser[0].role == 2) {\n            window.location.href = '/producer';\n          } else if (dataUser[0].role == 3) {\n            window.location.href = '/attendance';\n          }\n        } else {\n          this.setState({\n            'error': 1\n          });\n          alert(\"Login Fail <3\");\n        }\n      }\n    };\n\n    this.state = {\n      error: 0\n    };\n    this.username = '';\n    this.password = '';\n    localStorage.clear();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card card-authentication1 mx-auto my-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-content p-2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"assets/images/logo-icon.png\",\n      alt: \"logo icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 29\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"card-title text-uppercase text-center py-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 25\n      }\n    }, \"Sign In\"), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleInputUsername1\",\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 33\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"position-relative has-icon-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      id: \"exampleInputUsername1\",\n      name: \"username\",\n      className: \"form-control input-shadow\",\n      placeholder: \"Enter Username\",\n      onChange: e => {\n        this.username = e.target.value;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-control-position\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 41\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"exampleInputPassword\",\n      className: \"sr-only\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 33\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"position-relative has-icon-right\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      id: \"exampleInputPassword\",\n      name: \"password\",\n      className: \"form-control input-shadow\",\n      placeholder: \"Enter Password\",\n      onChange: e => {\n        this.password = e.target.value;\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 37\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-control-position\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"icon-lock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 41\n      }\n    })))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 29\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group col-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 33\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"icheck-material-white\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 37\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      id: \"user-checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 41\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"user-checkbox\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 41\n      }\n    }, \"Remember me\")))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"button\",\n      className: \"btn btn-light btn-block\",\n      onClick: () => {\n        this.CheckLogin();\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 29\n      }\n    }, \"Sign In\")))));\n  }\n\n}\n\nexport default login;","map":{"version":3,"sources":["C:/Users/admin/Desktop/ƒêATN1/Code/Front-End/src/Login/login.js"],"names":["React","Component","Axios","login","constructor","props","CheckLogin","e","results","post","method","headers","body","username","password","status","setState","data","news","length","localStorage","setItem","hi","dataUser","forEach","id","id_account","name","role","id_role","shift","id_shift","push","JSON","stringify","console","log","window","location","href","alert","state","error","clear","render","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Axios from 'axios';\r\n\r\nclass login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            error: 0\r\n        }\r\n        this.username = '';\r\n        this.password = '';\r\n        localStorage.clear();\r\n    }\r\n\r\n    CheckLogin = async (e) => {\r\n        let results = await Axios.post('http://localhost:4000/api/account/login', {\r\n            method: 'POST',\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: {\r\n                username: this.username,\r\n                password: this.password\r\n            }\r\n        });\r\n\r\n        if (results.status !== 200) {\r\n            this.setState({ 'error': 1 })\r\n            return;\r\n        }\r\n        \r\n        else {\r\n            if (results.data.news.length > 0) {\r\n                localStorage.setItem(\"isLogin\", 'true');\r\n                \r\n                var hi = results.data.news\r\n                var data;\r\n                var dataUser = [];\r\n                hi.forEach(e => {\r\n                    data = { id: e.id_account, name: e.name, username: e.username, role:e.id_role, shift:e.id_shift }\r\n                    dataUser.push(data)\r\n                })\r\n                localStorage.setItem('userInfo', JSON.stringify(dataUser))\r\n                console.log(dataUser);\r\n                if (dataUser[0].role == 1) {\r\n                    window.location.href = '/bend';                    \r\n                }else if (dataUser[0].role == 2) {\r\n                    window.location.href = '/producer'\r\n                }else if (dataUser[0].role == 3){\r\n                    window.location.href = '/attendance';                    \r\n                }\r\n            } else {\r\n                this.setState({ 'error': 1 });\r\n                alert(\"Login Fail <3\")\r\n            }\r\n        }\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <div className=\"card card-authentication1 mx-auto my-5\">\r\n                <div className=\"card-body\">\r\n                    <div className=\"card-content p-2\">\r\n                        <div className=\"text-center\">\r\n                            <img src=\"assets/images/logo-icon.png\" alt=\"logo icon\" />\r\n                        </div>\r\n                        <div className=\"card-title text-uppercase text-center py-3\">Sign In</div>\r\n                        <form>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"exampleInputUsername1\" className=\"sr-only\">Username</label>\r\n                                <div className=\"position-relative has-icon-right\">\r\n                                    <input type=\"text\" id=\"exampleInputUsername1\" name=\"username\" className=\"form-control input-shadow\"\r\n                                        placeholder=\"Enter Username\"\r\n                                        onChange={(e) => {\r\n                                            this.username = e.target.value;\r\n                                        }} />\r\n                                    <div className=\"form-control-position\">\r\n                                        <i className=\"icon-user\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"exampleInputPassword\" className=\"sr-only\">Password</label>\r\n                                <div className=\"position-relative has-icon-right\">\r\n                                    <input type=\"password\" id=\"exampleInputPassword\" name=\"password\" className=\"form-control input-shadow\"\r\n                                        placeholder=\"Enter Password\"\r\n                                        onChange={(e) => {\r\n                                            this.password = e.target.value;\r\n                                        }} />\r\n                                    <div className=\"form-control-position\">\r\n                                        <i className=\"icon-lock\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"form-row\">\r\n                                <div className=\"form-group col-6\">\r\n                                    <div className=\"icheck-material-white\">\r\n                                        <input type=\"checkbox\" id=\"user-checkbox\" />\r\n                                        <label htmlFor=\"user-checkbox\">Remember me</label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <button type=\"button\" className=\"btn btn-light btn-block\" onClick={() => {\r\n                                this.CheckLogin();\r\n                            }}>Sign In</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nexport default login;"]},"metadata":{},"sourceType":"module"}